{
  "mappings": [
    {
      "request": {
        "method": "POST",
        "urlPath": "/v1/individuals",
        "bodyPatterns": [
          {
            "matchesJsonPath": "$[?(@.email =~ /.+@.+\\..+/)]"
          }
        ],
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        }
      },
      "response": {
        "status": 201,
        "body": "{ \"user_uid\": \"3ddcecd5-5004-4a8a-9447-ed110912b7ee\" }",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "method": "DELETE",
        "urlPathPattern": "/v1/individuals/compensate-registration/([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        }
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "method": "GET",
        "urlPath": "/v1/individuals",
        "queryParameters": {
          "id": {
            "matches": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
          },
          "email": {
            "matches": "^.+@.+\\..+$"
          }
        },
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        }
      },
      "response": {
        "status": 200,
        "body": "{\n  \"passport_number\": \"1234567890\",\n  \"phone_number\": \"+79991234567\",\n  \"secret_key\": \"secretKey\",\n  \"email\": \"email@mail.ru\",\n  \"first_name\": \"Иван\",\n  \"last_name\": \"Петров\",\n  \"address\": \"ул. Примерная, д. 123\",\n  \"zip_code\": \"123456\",\n  \"city\": \"Москва\",\n  \"state\": \"Московская область\",\n  \"name\": \"Россия\",\n  \"alpha2\": \"RU\",\n  \"alpha3\": \"RUS\"\n}",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },
    {
      "request": {
        "method": "PUT",
        "urlPathPattern": "/v1/individuals/([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        },
        "bodyPatterns": [
          {
            "matchesJsonPath": "$[?(@.passport_number)]"
          }
        ]
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "method": "DELETE",
        "urlPathPattern": "/v1/individuals/([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        }
      },
      "response": {
        "status": 200
      }
    },
    {
      "request": {
        "method": "POST",
        "urlPathPattern": "/v1/wallets/([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        },
        "bodyPatterns": [
          {
            "matchesJsonPath": "$[?(@.name)]"
          },
          {
            "matchesJsonPath": "$[?(@.currencyCode)]"
          }
        ]
      },
      "response": {
        "status": 201,
        "body": "\"4cac87a9-f63f-49ec-88b5-e55fe660268b\"",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },

    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/v1/wallets/([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})/([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        }
      },
      "response": {
        "status": 200,
        "body": "{\n  \"walletUid\": \"4cac87a9-f63f-49ec-88b5-e55fe660268b\",\n  \"name\": \"Happy wallet\",\n  \"currencyCode\": \"RUB\",\n  \"balance\": 0,\n  \"status\": \"ACTIVE\"\n}",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },

    {
      "request": {
        "method": "POST",
        "urlPathPattern": "/v1/transactions/(deposit|withdrawal|transfer)/init",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        },
        "bodyPatterns": [
          {
            "matchesJsonPath": "$[?(@.amount)]"
          },
          {
            "matchesJsonPath": "$[?(@.type)]"
          }
        ]
      },
      "response": {
        "status": 200,
        "body": "{\n  \"available\": true,\n  \"fee\": 10,\n  \"token\": \"init-token-123\"\n}",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },

    {
      "request": {
        "method": "POST",
        "urlPathPattern": "/v1/transactions/(deposit|withdrawal|transfer)/confirm",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        },
        "bodyPatterns": [
          {
            "matchesJsonPath": "$[?(@.confirm == true)]"
          },
          {
            "matchesJsonPath": "$[?(@.token)]"
          }
        ]
      },
      "response": {
        "status": 200,
        "body": "{\n  \"status\": \"PENDING\",\n  \"transactionId\": \"6ca59b01-189c-495f-8240-0f72d921429b\"\n}",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    },

    {
      "request": {
        "method": "GET",
        "urlPathPattern": "/v1/transactions/([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})/status",
        "headers": {
          "Authorization": {
            "matches": "^Bearer .+$"
          }
        }
      },
      "response": {
        "status": 200,
        "body": "{\n  \"status\": \"COMPLETED\"\n}",
        "headers": {
          "Content-Type": "application/json"
        }
      }
    }
  ]
}